Set up environment
Input savenames
Load bathymetry data
Load stream gauge data
Load cross section data
Plot study area
Save cross section data
Plot synthetic SWOT observations for a given cross section

Fit linear model using my method and Mersel's method
Plot the linear fit vs. SWOT data and calculate GoF metrics

Fit SB models using my method and Mersel's method
Plot the SB fit vs. SWOT data

Fit nonlinear model
Plot NL fit vs. SWOT data

Fit NLSB model
Plot NLSB fit vs. SWOT data

(Line 166)

Fit each model at different exposure levels
Save modeling results

(Line 247)

Load true hydraulic parameters
Get true bed elevations
Calculate z0, A, WP predictions
Save z0, A, WP predictions
Load z0, A, WP predictions

Plot z0, A, WP along the river at particular exposure levels
Plot average z0, A, WP error vs. exposure level

Calculate A0 predictions
Save A0 predictions

Calculate true A0
Save true A0

Plot A0 along the river at particular exposure levels for each model
Plot A0 along the river at particular exposure levels for linear model, with A0 error estimates, but neglecting measurement error

(Line 484)

Compute A0 bias
Plot A0 bias vs. exposure level
Save A0 bias

Compute SSE of A0 for each model
Save A0 SSE

(Scrap)

Fit SB model to each cross section at different exposure levels, using MC simulation

Load modeling results
Calculate prediction error of linear model, assuming no measurement error

# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# ------------------------------------------------------------------------------
# Use this outline to make a better version main_d3:

Set up environment
Input savenames
Load raw data
Plot study area
Load processed data, if it exists

Process cross section data
Plot SWOT sampling of WSE-w
Save cross section data

Fit each model at different exposure levels
Save fitted models

Calculate true A0, S0, A, WP, A0
Save true A0, S0, A, WP, A0

Calculate A0, S0, A, WP predictions
Save predicted A0, S0, A, WP, A0

Plot z0, A0, S0, A, WP along the river at each exposure level
Plot average z0, A0, S0, A, WP error vs. exposure level













